import{b as Fe,g as pt,t as k,c as P,e as mt,f as gt}from"../chunks/B5sc-ozj.js";import{i as ve}from"../chunks/BwtrrMud.js";import{b as vt,a as At,d as Tt,h as De,i as Ge,c as He,Q as _t,V as wt,R as Rt,s as Et,O as xt,$ as Ae,af as Qe,a2 as Te,o as U,A as Ze,u as Je,aa as $,ab as x,ac as A,m as yt,ad as v,a9 as $e,ag as _e}from"../chunks/BJLpQS8k.js";import{b as K}from"../chunks/b8jr3Qah.js";import{g as Se,s as j}from"../chunks/cqjBJN-C.js";import{s as V}from"../chunks/El6BJPUC.js";import{b as bt,c as Me,d as et,L as Lt,f as ue,F as tt,g as z,V as st,C as ie,h as X,j as he,k as St,l as Mt,D as Ie,m as ge,n as oe,I as It,Q as nt,o as Nt,p as it,T as Ct,q as Pt,B as we,r as kt,s as rt,N as Ot,t as Ft,u as Dt,v as fe,w as ot,R as Ne,x as Gt,y as Ht,z as Bt,A as Re,E as jt,G as at,H as ct,J as de,K as Ut,U as Kt,X as qt,M as zt,Y as Vt,Z as Wt,_ as Xt,$ as Yt,a0 as Ee,a1 as lt,a2 as Qt,O as Zt,a3 as Jt,a4 as $t,a5 as es,a6 as ts,a7 as dt,a8 as ss,a9 as Be,aa as je,ab as Ue,ac as Ke,ad as qe,ae as ns,af as is,ag as rs,ah as os,ai as as,aj as pe,ak as xe,al as me,S as cs,W as ls,am as ds,an as us,ao as hs,ap as fs,aq as ps,e as te,i as se}from"../chunks/CTYWBboe.js";import{p as y,i as W}from"../chunks/UUYT6uLg.js";import"../chunks/i6gilv73.js";import{b as ms}from"../chunks/M5lq_dfH.js";function H(h,e,t,r,s){var i=h,n="",a;vt(()=>{if(n===(n=e()??"")){De&&Ge();return}a!==void 0&&(Tt(a),a=void 0),n!==""&&(a=At(()=>{if(De){He.data;for(var o=Ge(),c=o;o!==null&&(o.nodeType!==8||o.data!=="");)c=o,o=_t(o);if(o===null)throw wt(),Rt;Fe(He,c),i=Et(o);return}var d=n+"",l=pt(d);Fe(xt(l),l.lastChild),i.before(l)}))})}function ze(h,e){if(e===bt)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),h;if(e===Me||e===et){let t=h.getIndex();if(t===null){const n=[],a=h.getAttribute("position");if(a!==void 0){for(let o=0;o<a.count;o++)n.push(o);h.setIndex(n),t=h.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),h}const r=t.count-2,s=[];if(e===Me)for(let n=1;n<=r;n++)s.push(t.getX(0)),s.push(t.getX(n)),s.push(t.getX(n+1));else for(let n=0;n<r;n++)n%2===0?(s.push(t.getX(n)),s.push(t.getX(n+1)),s.push(t.getX(n+2))):(s.push(t.getX(n+2)),s.push(t.getX(n+1)),s.push(t.getX(n)));s.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const i=h.clone();return i.setIndex(s),i.clearGroups(),i}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),h}class gs extends Lt{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new ws(t)}),this.register(function(t){return new Rs(t)}),this.register(function(t){return new Ns(t)}),this.register(function(t){return new Cs(t)}),this.register(function(t){return new Ps(t)}),this.register(function(t){return new xs(t)}),this.register(function(t){return new ys(t)}),this.register(function(t){return new bs(t)}),this.register(function(t){return new Ls(t)}),this.register(function(t){return new _s(t)}),this.register(function(t){return new Ss(t)}),this.register(function(t){return new Es(t)}),this.register(function(t){return new Is(t)}),this.register(function(t){return new Ms(t)}),this.register(function(t){return new As(t)}),this.register(function(t){return new ks(t)}),this.register(function(t){return new Os(t)})}load(e,t,r,s){const i=this;let n;if(this.resourcePath!=="")n=this.resourcePath;else if(this.path!==""){const c=ue.extractUrlBase(e);n=ue.resolveURL(c,this.path)}else n=ue.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){s?s(c):console.error(c),i.manager.itemError(e),i.manager.itemEnd(e)},o=new tt(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{i.parse(c,n,function(d){t(d),i.manager.itemEnd(e)},a)}catch(d){a(d)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,s){let i;const n={},a={},o=new TextDecoder;if(typeof e=="string")i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(o.decode(new Uint8Array(e,0,4))===ut){try{n[S.KHR_BINARY_GLTF]=new Fs(e)}catch(l){s&&s(l);return}i=JSON.parse(n[S.KHR_BINARY_GLTF].content)}else i=JSON.parse(o.decode(e));else i=e;if(i.asset===void 0||i.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new Ys(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const l=this.pluginCallbacks[d](c);l.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[l.name]=l,n[l.name]=!0}if(i.extensionsUsed)for(let d=0;d<i.extensionsUsed.length;++d){const l=i.extensionsUsed[d],u=i.extensionsRequired||[];switch(l){case S.KHR_MATERIALS_UNLIT:n[l]=new Ts;break;case S.KHR_DRACO_MESH_COMPRESSION:n[l]=new Ds(i,this.dracoLoader);break;case S.KHR_TEXTURE_TRANSFORM:n[l]=new Gs;break;case S.KHR_MESH_QUANTIZATION:n[l]=new Hs;break;default:u.indexOf(l)>=0&&a[l]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+l+'".')}}c.setExtensions(n),c.setPlugins(a),c.parse(r,s)}parseAsync(e,t){const r=this;return new Promise(function(s,i){r.parse(e,t,s,i)})}}function vs(){let h={};return{get:function(e){return h[e]},add:function(e,t){h[e]=t},remove:function(e){delete h[e]},removeAll:function(){h={}}}}const S={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class As{constructor(e){this.parser=e,this.name=S.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,s=t.length;r<s;r++){const i=t[r];i.extensions&&i.extensions[this.name]&&i.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let s=t.cache.get(r);if(s)return s;const i=t.json,o=((i.extensions&&i.extensions[this.name]||{}).lights||[])[e];let c;const d=new ie(16777215);o.color!==void 0&&d.setRGB(o.color[0],o.color[1],o.color[2],X);const l=o.range!==void 0?o.range:0;switch(o.type){case"directional":c=new Ie(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Mt(d),c.distance=l;break;case"spot":c=new St(d),c.distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=o.spot.innerConeAngle!==void 0?o.spot.innerConeAngle:0,o.spot.outerConeAngle=o.spot.outerConeAngle!==void 0?o.spot.outerConeAngle:Math.PI/4,c.angle=o.spot.outerConeAngle,c.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return c.position.set(0,0,0),J(c,o),o.intensity!==void 0&&(c.intensity=o.intensity),c.name=t.createUniqueName(o.name||"light_"+e),s=Promise.resolve(c),t.cache.add(r,s),s}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,i=r.json.nodes[e],a=(i.extensions&&i.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(o){return r._getNodeRef(t.cache,a,o)})}}class Ts{constructor(){this.name=S.KHR_MATERIALS_UNLIT}getMaterialType(){return de}extendParams(e,t,r){const s=[];e.color=new ie(1,1,1),e.opacity=1;const i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const n=i.baseColorFactor;e.color.setRGB(n[0],n[1],n[2],X),e.opacity=n[3]}i.baseColorTexture!==void 0&&s.push(r.assignTexture(e,"map",i.baseColorTexture,he))}return Promise.all(s)}}class _s{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=s.extensions[this.name].emissiveStrength;return i!==void 0&&(t.emissiveIntensity=i),Promise.resolve()}}class ws{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:z}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],n=s.extensions[this.name];if(n.clearcoatFactor!==void 0&&(t.clearcoat=n.clearcoatFactor),n.clearcoatTexture!==void 0&&i.push(r.assignTexture(t,"clearcoatMap",n.clearcoatTexture)),n.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=n.clearcoatRoughnessFactor),n.clearcoatRoughnessTexture!==void 0&&i.push(r.assignTexture(t,"clearcoatRoughnessMap",n.clearcoatRoughnessTexture)),n.clearcoatNormalTexture!==void 0&&(i.push(r.assignTexture(t,"clearcoatNormalMap",n.clearcoatNormalTexture)),n.clearcoatNormalTexture.scale!==void 0)){const a=n.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new st(a,a)}return Promise.all(i)}}class Rs{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:z}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=s.extensions[this.name];return t.dispersion=i.dispersion!==void 0?i.dispersion:0,Promise.resolve()}}class Es{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:z}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],n=s.extensions[this.name];return n.iridescenceFactor!==void 0&&(t.iridescence=n.iridescenceFactor),n.iridescenceTexture!==void 0&&i.push(r.assignTexture(t,"iridescenceMap",n.iridescenceTexture)),n.iridescenceIor!==void 0&&(t.iridescenceIOR=n.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),n.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=n.iridescenceThicknessMinimum),n.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=n.iridescenceThicknessMaximum),n.iridescenceThicknessTexture!==void 0&&i.push(r.assignTexture(t,"iridescenceThicknessMap",n.iridescenceThicknessTexture)),Promise.all(i)}}class xs{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:z}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[];t.sheenColor=new ie(0,0,0),t.sheenRoughness=0,t.sheen=1;const n=s.extensions[this.name];if(n.sheenColorFactor!==void 0){const a=n.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],X)}return n.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=n.sheenRoughnessFactor),n.sheenColorTexture!==void 0&&i.push(r.assignTexture(t,"sheenColorMap",n.sheenColorTexture,he)),n.sheenRoughnessTexture!==void 0&&i.push(r.assignTexture(t,"sheenRoughnessMap",n.sheenRoughnessTexture)),Promise.all(i)}}class ys{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:z}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],n=s.extensions[this.name];return n.transmissionFactor!==void 0&&(t.transmission=n.transmissionFactor),n.transmissionTexture!==void 0&&i.push(r.assignTexture(t,"transmissionMap",n.transmissionTexture)),Promise.all(i)}}class bs{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:z}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],n=s.extensions[this.name];t.thickness=n.thicknessFactor!==void 0?n.thicknessFactor:0,n.thicknessTexture!==void 0&&i.push(r.assignTexture(t,"thicknessMap",n.thicknessTexture)),t.attenuationDistance=n.attenuationDistance||1/0;const a=n.attenuationColor||[1,1,1];return t.attenuationColor=new ie().setRGB(a[0],a[1],a[2],X),Promise.all(i)}}class Ls{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:z}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=s.extensions[this.name];return t.ior=i.ior!==void 0?i.ior:1.5,Promise.resolve()}}class Ss{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:z}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],n=s.extensions[this.name];t.specularIntensity=n.specularFactor!==void 0?n.specularFactor:1,n.specularTexture!==void 0&&i.push(r.assignTexture(t,"specularIntensityMap",n.specularTexture));const a=n.specularColorFactor||[1,1,1];return t.specularColor=new ie().setRGB(a[0],a[1],a[2],X),n.specularColorTexture!==void 0&&i.push(r.assignTexture(t,"specularColorMap",n.specularColorTexture,he)),Promise.all(i)}}class Ms{constructor(e){this.parser=e,this.name=S.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:z}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],n=s.extensions[this.name];return t.bumpScale=n.bumpFactor!==void 0?n.bumpFactor:1,n.bumpTexture!==void 0&&i.push(r.assignTexture(t,"bumpMap",n.bumpTexture)),Promise.all(i)}}class Is{constructor(e){this.parser=e,this.name=S.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:z}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const i=[],n=s.extensions[this.name];return n.anisotropyStrength!==void 0&&(t.anisotropy=n.anisotropyStrength),n.anisotropyRotation!==void 0&&(t.anisotropyRotation=n.anisotropyRotation),n.anisotropyTexture!==void 0&&i.push(r.assignTexture(t,"anisotropyMap",n.anisotropyTexture)),Promise.all(i)}}class Ns{constructor(e){this.parser=e,this.name=S.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,s=r.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const i=s.extensions[this.name],n=t.options.ktx2Loader;if(!n){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,n)}}class Cs{constructor(e){this.parser=e,this.name=S.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,s=r.json,i=s.textures[e];if(!i.extensions||!i.extensions[t])return null;const n=i.extensions[t],a=s.images[n.source];let o=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(o=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,n.source,o);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Ps{constructor(e){this.parser=e,this.name=S.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,s=r.json,i=s.textures[e];if(!i.extensions||!i.extensions[t])return null;const n=i.extensions[t],a=s.images[n.source];let o=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(o=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,n.source,o);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class ks{constructor(e){this.name=S.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const s=r.extensions[this.name],i=this.parser.getDependency("buffer",s.buffer),n=this.parser.options.meshoptDecoder;if(!n||!n.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then(function(a){const o=s.byteOffset||0,c=s.byteLength||0,d=s.count,l=s.byteStride,u=new Uint8Array(a,o,c);return n.decodeGltfBufferAsync?n.decodeGltfBufferAsync(d,l,u,s.mode,s.filter).then(function(f){return f.buffer}):n.ready.then(function(){const f=new ArrayBuffer(d*l);return n.decodeGltfBuffer(new Uint8Array(f),d,l,u,s.mode,s.filter),f})})}else return null}}class Os{constructor(e){this.name=S.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const s=t.meshes[r.mesh];for(const c of s.primitives)if(c.mode!==q.TRIANGLES&&c.mode!==q.TRIANGLE_STRIP&&c.mode!==q.TRIANGLE_FAN&&c.mode!==void 0)return null;const n=r.extensions[this.name].attributes,a=[],o={};for(const c in n)a.push(this.parser.getDependency("accessor",n[c]).then(d=>(o[c]=d,o[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const d=c.pop(),l=d.isGroup?d.children:[d],u=c[0].count,f=[];for(const g of l){const _=new ge,m=new oe,p=new nt,T=new oe(1,1,1),R=new It(g.geometry,g.material,u);for(let E=0;E<u;E++)o.TRANSLATION&&m.fromBufferAttribute(o.TRANSLATION,E),o.ROTATION&&p.fromBufferAttribute(o.ROTATION,E),o.SCALE&&T.fromBufferAttribute(o.SCALE,E),R.setMatrixAt(E,_.compose(m,p,T));for(const E in o)if(E==="_COLOR_0"){const C=o[E];R.instanceColor=new Nt(C.array,C.itemSize,C.normalized)}else E!=="TRANSLATION"&&E!=="ROTATION"&&E!=="SCALE"&&g.geometry.setAttribute(E,o[E]);it.prototype.copy.call(R,g),this.parser.assignFinalMaterial(R),f.push(R)}return d.isGroup?(d.clear(),d.add(...f),d):f[0]}))}}const ut="glTF",le=12,Ve={JSON:1313821514,BIN:5130562};class Fs{constructor(e){this.name=S.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,le),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==ut)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-le,i=new DataView(e,le);let n=0;for(;n<s;){const a=i.getUint32(n,!0);n+=4;const o=i.getUint32(n,!0);if(n+=4,o===Ve.JSON){const c=new Uint8Array(e,le+n,a);this.content=r.decode(c)}else if(o===Ve.BIN){const c=le+n;this.body=e.slice(c,c+a)}n+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Ds{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=S.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,s=this.dracoLoader,i=e.extensions[this.name].bufferView,n=e.extensions[this.name].attributes,a={},o={},c={};for(const d in n){const l=Ce[d]||d.toLowerCase();a[l]=n[d]}for(const d in e.attributes){const l=Ce[d]||d.toLowerCase();if(n[d]!==void 0){const u=r.accessors[e.attributes[d]],f=ae[u.componentType];c[l]=f.name,o[l]=u.normalized===!0}}return t.getDependency("bufferView",i).then(function(d){return new Promise(function(l,u){s.decodeDracoFile(d,function(f){for(const g in f.attributes){const _=f.attributes[g],m=o[g];m!==void 0&&(_.normalized=m)}l(f)},a,c,X,u)})})}}class Gs{constructor(){this.name=S.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Hs{constructor(){this.name=S.KHR_MESH_QUANTIZATION}}class ht extends is{constructor(e,t,r,s){super(e,t,r,s)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,s=this.valueSize,i=e*s*3+s;for(let n=0;n!==s;n++)t[n]=r[i+n];return t}interpolate_(e,t,r,s){const i=this.resultBuffer,n=this.sampleValues,a=this.valueSize,o=a*2,c=a*3,d=s-t,l=(r-t)/d,u=l*l,f=u*l,g=e*c,_=g-c,m=-2*f+3*u,p=f-u,T=1-m,R=p-u+l;for(let E=0;E!==a;E++){const C=n[_+E+a],O=n[_+E+o]*d,L=n[g+E+a],w=n[g+E]*d;i[E]=T*C+R*O+m*L+p*w}return i}}const Bs=new nt;class js extends ht{interpolate_(e,t,r,s){const i=super.interpolate_(e,t,r,s);return Bs.fromArray(i).normalize().toArray(i),i}}const q={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},ae={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},We={9728:ot,9729:fe,9984:Dt,9985:Ft,9986:Ot,9987:rt},Xe={33071:Ht,33648:Gt,10497:Ne},ye={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ce={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ee={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Us={CUBICSPLINE:void 0,LINEAR:dt,STEP:ts},be={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Ks(h){return h.DefaultMaterial===void 0&&(h.DefaultMaterial=new at({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ns})),h.DefaultMaterial}function ne(h,e,t){for(const r in t.extensions)h[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function J(h,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(h.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function qs(h,e,t){let r=!1,s=!1,i=!1;for(let c=0,d=e.length;c<d;c++){const l=e[c];if(l.POSITION!==void 0&&(r=!0),l.NORMAL!==void 0&&(s=!0),l.COLOR_0!==void 0&&(i=!0),r&&s&&i)break}if(!r&&!s&&!i)return Promise.resolve(h);const n=[],a=[],o=[];for(let c=0,d=e.length;c<d;c++){const l=e[c];if(r){const u=l.POSITION!==void 0?t.getDependency("accessor",l.POSITION):h.attributes.position;n.push(u)}if(s){const u=l.NORMAL!==void 0?t.getDependency("accessor",l.NORMAL):h.attributes.normal;a.push(u)}if(i){const u=l.COLOR_0!==void 0?t.getDependency("accessor",l.COLOR_0):h.attributes.color;o.push(u)}}return Promise.all([Promise.all(n),Promise.all(a),Promise.all(o)]).then(function(c){const d=c[0],l=c[1],u=c[2];return r&&(h.morphAttributes.position=d),s&&(h.morphAttributes.normal=l),i&&(h.morphAttributes.color=u),h.morphTargetsRelative=!0,h})}function zs(h,e){if(h.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)h.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(h.morphTargetInfluences.length===t.length){h.morphTargetDictionary={};for(let r=0,s=t.length;r<s;r++)h.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Vs(h){let e;const t=h.extensions&&h.extensions[S.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Le(t.attributes):e=h.indices+":"+Le(h.attributes)+":"+h.mode,h.targets!==void 0)for(let r=0,s=h.targets.length;r<s;r++)e+=":"+Le(h.targets[r]);return e}function Le(h){let e="";const t=Object.keys(h).sort();for(let r=0,s=t.length;r<s;r++)e+=t[r]+":"+h[t[r]]+";";return e}function Pe(h){switch(h){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Ws(h){return h.search(/\.jpe?g($|\?)/i)>0||h.search(/^data\:image\/jpeg/)===0?"image/jpeg":h.search(/\.webp($|\?)/i)>0||h.search(/^data\:image\/webp/)===0?"image/webp":h.search(/\.ktx2($|\?)/i)>0||h.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const Xs=new ge;class Ys{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new vs,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,s=-1,i=!1,n=-1;if(typeof navigator<"u"){const a=navigator.userAgent;r=/^((?!chrome|android).)*safari/i.test(a)===!0;const o=a.match(/Version\/(\d+)/);s=r&&o?parseInt(o[1],10):-1,i=a.indexOf("Firefox")>-1,n=i?a.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||r&&s<17||i&&n<98?this.textureLoader=new Ct(this.options.manager):this.textureLoader=new Pt(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new tt(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,s=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(n){return n._markDefs&&n._markDefs()}),Promise.all(this._invokeAll(function(n){return n.beforeRoot&&n.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(n){const a={scene:n[0][s.scene||0],scenes:n[0],animations:n[1],cameras:n[2],asset:s.asset,parser:r,userData:{}};return ne(i,a,s),J(a,s),Promise.all(r._invokeAll(function(o){return o.afterRoot&&o.afterRoot(a)})).then(function(){for(const o of a.scenes)o.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let s=0,i=t.length;s<i;s++){const n=t[s].joints;for(let a=0,o=n.length;a<o;a++)e[n[a]].isBone=!0}for(let s=0,i=e.length;s<i;s++){const n=e[s];n.mesh!==void 0&&(this._addNodeRef(this.meshCache,n.mesh),n.skin!==void 0&&(r[n.mesh].isSkinnedMesh=!0)),n.camera!==void 0&&this._addNodeRef(this.cameraCache,n.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const s=r.clone(),i=(n,a)=>{const o=this.associations.get(n);o!=null&&this.associations.set(a,o);for(const[c,d]of n.children.entries())i(d,a.children[c])};return i(r,s),s.name+="_instance_"+e.uses[t]++,s}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const s=e(t[r]);if(s)return s}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let s=0;s<t.length;s++){const i=e(t[s]);i&&r.push(i)}return r}getDependency(e,t){const r=e+":"+t;let s=this.cache.get(r);if(!s){switch(e){case"scene":s=this.loadScene(t);break;case"node":s=this._invokeOne(function(i){return i.loadNode&&i.loadNode(t)});break;case"mesh":s=this._invokeOne(function(i){return i.loadMesh&&i.loadMesh(t)});break;case"accessor":s=this.loadAccessor(t);break;case"bufferView":s=this._invokeOne(function(i){return i.loadBufferView&&i.loadBufferView(t)});break;case"buffer":s=this.loadBuffer(t);break;case"material":s=this._invokeOne(function(i){return i.loadMaterial&&i.loadMaterial(t)});break;case"texture":s=this._invokeOne(function(i){return i.loadTexture&&i.loadTexture(t)});break;case"skin":s=this.loadSkin(t);break;case"animation":s=this._invokeOne(function(i){return i.loadAnimation&&i.loadAnimation(t)});break;case"camera":s=this.loadCamera(t);break;default:if(s=this._invokeOne(function(i){return i!=this&&i.getDependency&&i.getDependency(e,t)}),!s)throw new Error("Unknown type: "+e);break}this.cache.add(r,s)}return s}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,s=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(s.map(function(i,n){return r.getDependency(e,n)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[S.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(i,n){r.load(ue.resolveURL(t.uri,s.path),i,void 0,function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const s=t.byteLength||0,i=t.byteOffset||0;return r.slice(i,i+s)})}loadAccessor(e){const t=this,r=this.json,s=this.json.accessors[e];if(s.bufferView===void 0&&s.sparse===void 0){const n=ye[s.type],a=ae[s.componentType],o=s.normalized===!0,c=new a(s.count*n);return Promise.resolve(new we(c,n,o))}const i=[];return s.bufferView!==void 0?i.push(this.getDependency("bufferView",s.bufferView)):i.push(null),s.sparse!==void 0&&(i.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(i).then(function(n){const a=n[0],o=ye[s.type],c=ae[s.componentType],d=c.BYTES_PER_ELEMENT,l=d*o,u=s.byteOffset||0,f=s.bufferView!==void 0?r.bufferViews[s.bufferView].byteStride:void 0,g=s.normalized===!0;let _,m;if(f&&f!==l){const p=Math.floor(u/f),T="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+p+":"+s.count;let R=t.cache.get(T);R||(_=new c(a,p*f,s.count*f/d),R=new kt(_,f/d),t.cache.add(T,R)),m=new ss(R,o,u%f/d,g)}else a===null?_=new c(s.count*o):_=new c(a,u,s.count*o),m=new we(_,o,g);if(s.sparse!==void 0){const p=ye.SCALAR,T=ae[s.sparse.indices.componentType],R=s.sparse.indices.byteOffset||0,E=s.sparse.values.byteOffset||0,C=new T(n[1],R,s.sparse.count*p),O=new c(n[2],E,s.sparse.count*o);a!==null&&(m=new we(m.array.slice(),m.itemSize,m.normalized)),m.normalized=!1;for(let L=0,w=C.length;L<w;L++){const b=C[L];if(m.setX(b,O[L*o]),o>=2&&m.setY(b,O[L*o+1]),o>=3&&m.setZ(b,O[L*o+2]),o>=4&&m.setW(b,O[L*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}m.normalized=g}return m})}loadTexture(e){const t=this.json,r=this.options,i=t.textures[e].source,n=t.images[i];let a=this.textureLoader;if(n.uri){const o=r.manager.getHandler(n.uri);o!==null&&(a=o)}return this.loadTextureImage(e,i,a)}loadTextureImage(e,t,r){const s=this,i=this.json,n=i.textures[e],a=i.images[t],o=(a.uri||a.bufferView)+":"+n.sampler;if(this.textureCache[o])return this.textureCache[o];const c=this.loadImageSource(t,r).then(function(d){d.flipY=!1,d.name=n.name||a.name||"",d.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(d.name=a.uri);const u=(i.samplers||{})[n.sampler]||{};return d.magFilter=We[u.magFilter]||fe,d.minFilter=We[u.minFilter]||rt,d.wrapS=Xe[u.wrapS]||Ne,d.wrapT=Xe[u.wrapT]||Ne,d.generateMipmaps=!d.isCompressedTexture&&d.minFilter!==ot&&d.minFilter!==fe,s.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[o]=c,c}loadImageSource(e,t){const r=this,s=this.json,i=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(l=>l.clone());const n=s.images[e],a=self.URL||self.webkitURL;let o=n.uri||"",c=!1;if(n.bufferView!==void 0)o=r.getDependency("bufferView",n.bufferView).then(function(l){c=!0;const u=new Blob([l],{type:n.mimeType});return o=a.createObjectURL(u),o});else if(n.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(o).then(function(l){return new Promise(function(u,f){let g=u;t.isImageBitmapLoader===!0&&(g=function(_){const m=new Be(_);m.needsUpdate=!0,u(m)}),t.load(ue.resolveURL(l,i.path),g,void 0,f)})}).then(function(l){return c===!0&&a.revokeObjectURL(o),J(l,n),l.userData.mimeType=n.mimeType||Ws(n.uri),l}).catch(function(l){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),l});return this.sourceCache[e]=d,d}assignTexture(e,t,r,s){const i=this;return this.getDependency("texture",r.index).then(function(n){if(!n)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(n=n.clone(),n.channel=r.texCoord),i.extensions[S.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[S.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const o=i.associations.get(n);n=i.extensions[S.KHR_TEXTURE_TRANSFORM].extendTexture(n,a),i.associations.set(n,o)}}return s!==void 0&&(n.colorSpace=s),e[t]=n,n})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const s=t.attributes.tangent===void 0,i=t.attributes.color!==void 0,n=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let o=this.cache.get(a);o||(o=new Bt,Re.prototype.copy.call(o,r),o.color.copy(r.color),o.map=r.map,o.sizeAttenuation=!1,this.cache.add(a,o)),r=o}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let o=this.cache.get(a);o||(o=new jt,Re.prototype.copy.call(o,r),o.color.copy(r.color),o.map=r.map,this.cache.add(a,o)),r=o}if(s||i||n){let a="ClonedMaterial:"+r.uuid+":";s&&(a+="derivative-tangents:"),i&&(a+="vertex-colors:"),n&&(a+="flat-shading:");let o=this.cache.get(a);o||(o=r.clone(),i&&(o.vertexColors=!0),n&&(o.flatShading=!0),s&&(o.normalScale&&(o.normalScale.y*=-1),o.clearcoatNormalScale&&(o.clearcoatNormalScale.y*=-1)),this.cache.add(a,o),this.associations.set(o,this.associations.get(r))),r=o}e.material=r}getMaterialType(){return at}loadMaterial(e){const t=this,r=this.json,s=this.extensions,i=r.materials[e];let n;const a={},o=i.extensions||{},c=[];if(o[S.KHR_MATERIALS_UNLIT]){const l=s[S.KHR_MATERIALS_UNLIT];n=l.getMaterialType(),c.push(l.extendParams(a,i,t))}else{const l=i.pbrMetallicRoughness||{};if(a.color=new ie(1,1,1),a.opacity=1,Array.isArray(l.baseColorFactor)){const u=l.baseColorFactor;a.color.setRGB(u[0],u[1],u[2],X),a.opacity=u[3]}l.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",l.baseColorTexture,he)),a.metalness=l.metallicFactor!==void 0?l.metallicFactor:1,a.roughness=l.roughnessFactor!==void 0?l.roughnessFactor:1,l.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",l.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",l.metallicRoughnessTexture))),n=this._invokeOne(function(u){return u.getMaterialType&&u.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(u){return u.extendMaterialParams&&u.extendMaterialParams(e,a)})))}i.doubleSided===!0&&(a.side=ct);const d=i.alphaMode||be.OPAQUE;if(d===be.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===be.MASK&&(a.alphaTest=i.alphaCutoff!==void 0?i.alphaCutoff:.5)),i.normalTexture!==void 0&&n!==de&&(c.push(t.assignTexture(a,"normalMap",i.normalTexture)),a.normalScale=new st(1,1),i.normalTexture.scale!==void 0)){const l=i.normalTexture.scale;a.normalScale.set(l,l)}if(i.occlusionTexture!==void 0&&n!==de&&(c.push(t.assignTexture(a,"aoMap",i.occlusionTexture)),i.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=i.occlusionTexture.strength)),i.emissiveFactor!==void 0&&n!==de){const l=i.emissiveFactor;a.emissive=new ie().setRGB(l[0],l[1],l[2],X)}return i.emissiveTexture!==void 0&&n!==de&&c.push(t.assignTexture(a,"emissiveMap",i.emissiveTexture,he)),Promise.all(c).then(function(){const l=new n(a);return i.name&&(l.name=i.name),J(l,i),t.associations.set(l,{materials:e}),i.extensions&&ne(s,l,i),l})}createUniqueName(e){const t=Ut.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,s=this.primitiveCache;function i(a){return r[S.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(o){return Ye(o,a,t)})}const n=[];for(let a=0,o=e.length;a<o;a++){const c=e[a],d=Vs(c),l=s[d];if(l)n.push(l.promise);else{let u;c.extensions&&c.extensions[S.KHR_DRACO_MESH_COMPRESSION]?u=i(c):u=Ye(new Kt,c,t),s[d]={primitive:c,promise:u},n.push(u)}}return Promise.all(n)}loadMesh(e){const t=this,r=this.json,s=this.extensions,i=r.meshes[e],n=i.primitives,a=[];for(let o=0,c=n.length;o<c;o++){const d=n[o].material===void 0?Ks(this.cache):this.getDependency("material",n[o].material);a.push(d)}return a.push(t.loadGeometries(n)),Promise.all(a).then(function(o){const c=o.slice(0,o.length-1),d=o[o.length-1],l=[];for(let f=0,g=d.length;f<g;f++){const _=d[f],m=n[f];let p;const T=c[f];if(m.mode===q.TRIANGLES||m.mode===q.TRIANGLE_STRIP||m.mode===q.TRIANGLE_FAN||m.mode===void 0)p=i.isSkinnedMesh===!0?new qt(_,T):new zt(_,T),p.isSkinnedMesh===!0&&p.normalizeSkinWeights(),m.mode===q.TRIANGLE_STRIP?p.geometry=ze(p.geometry,et):m.mode===q.TRIANGLE_FAN&&(p.geometry=ze(p.geometry,Me));else if(m.mode===q.LINES)p=new Vt(_,T);else if(m.mode===q.LINE_STRIP)p=new Wt(_,T);else if(m.mode===q.LINE_LOOP)p=new Xt(_,T);else if(m.mode===q.POINTS)p=new Yt(_,T);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);Object.keys(p.geometry.morphAttributes).length>0&&zs(p,i),p.name=t.createUniqueName(i.name||"mesh_"+e),J(p,i),m.extensions&&ne(s,p,m),t.assignFinalMaterial(p),l.push(p)}for(let f=0,g=l.length;f<g;f++)t.associations.set(l[f],{meshes:e,primitives:f});if(l.length===1)return i.extensions&&ne(s,l[0],i),l[0];const u=new Ee;i.extensions&&ne(s,u,i),t.associations.set(u,{meshes:e});for(let f=0,g=l.length;f<g;f++)u.add(l[f]);return u})}loadCamera(e){let t;const r=this.json.cameras[e],s=r[r.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new lt(Qt.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):r.type==="orthographic"&&(t=new Zt(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),J(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let s=0,i=t.joints.length;s<i;s++)r.push(this._loadNodeShallow(t.joints[s]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(s){const i=s.pop(),n=s,a=[],o=[];for(let c=0,d=n.length;c<d;c++){const l=n[c];if(l){a.push(l);const u=new ge;i!==null&&u.fromArray(i.array,c*16),o.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Jt(a,o)})}loadAnimation(e){const t=this.json,r=this,s=t.animations[e],i=s.name?s.name:"animation_"+e,n=[],a=[],o=[],c=[],d=[];for(let l=0,u=s.channels.length;l<u;l++){const f=s.channels[l],g=s.samplers[f.sampler],_=f.target,m=_.node,p=s.parameters!==void 0?s.parameters[g.input]:g.input,T=s.parameters!==void 0?s.parameters[g.output]:g.output;_.node!==void 0&&(n.push(this.getDependency("node",m)),a.push(this.getDependency("accessor",p)),o.push(this.getDependency("accessor",T)),c.push(g),d.push(_))}return Promise.all([Promise.all(n),Promise.all(a),Promise.all(o),Promise.all(c),Promise.all(d)]).then(function(l){const u=l[0],f=l[1],g=l[2],_=l[3],m=l[4],p=[];for(let T=0,R=u.length;T<R;T++){const E=u[T],C=f[T],O=g[T],L=_[T],w=m[T];if(E===void 0)continue;E.updateMatrix&&E.updateMatrix();const b=r._createAnimationTracks(E,C,O,L,w);if(b)for(let I=0;I<b.length;I++)p.push(b[I])}return new $t(i,void 0,p)})}createNodeMesh(e){const t=this.json,r=this,s=t.nodes[e];return s.mesh===void 0?null:r.getDependency("mesh",s.mesh).then(function(i){const n=r._getNodeRef(r.meshCache,s.mesh,i);return s.weights!==void 0&&n.traverse(function(a){if(a.isMesh)for(let o=0,c=s.weights.length;o<c;o++)a.morphTargetInfluences[o]=s.weights[o]}),n})}loadNode(e){const t=this.json,r=this,s=t.nodes[e],i=r._loadNodeShallow(e),n=[],a=s.children||[];for(let c=0,d=a.length;c<d;c++)n.push(r.getDependency("node",a[c]));const o=s.skin===void 0?Promise.resolve(null):r.getDependency("skin",s.skin);return Promise.all([i,Promise.all(n),o]).then(function(c){const d=c[0],l=c[1],u=c[2];u!==null&&d.traverse(function(f){f.isSkinnedMesh&&f.bind(u,Xs)});for(let f=0,g=l.length;f<g;f++)d.add(l[f]);return d})}_loadNodeShallow(e){const t=this.json,r=this.extensions,s=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const i=t.nodes[e],n=i.name?s.createUniqueName(i.name):"",a=[],o=s._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return o&&a.push(o),i.camera!==void 0&&a.push(s.getDependency("camera",i.camera).then(function(c){return s._getNodeRef(s.cameraCache,i.camera,c)})),s._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let d;if(i.isBone===!0?d=new es:c.length>1?d=new Ee:c.length===1?d=c[0]:d=new it,d!==c[0])for(let l=0,u=c.length;l<u;l++)d.add(c[l]);if(i.name&&(d.userData.name=i.name,d.name=n),J(d,i),i.extensions&&ne(r,d,i),i.matrix!==void 0){const l=new ge;l.fromArray(i.matrix),d.applyMatrix4(l)}else i.translation!==void 0&&d.position.fromArray(i.translation),i.rotation!==void 0&&d.quaternion.fromArray(i.rotation),i.scale!==void 0&&d.scale.fromArray(i.scale);return s.associations.has(d)||s.associations.set(d,{}),s.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],s=this,i=new Ee;r.name&&(i.name=s.createUniqueName(r.name)),J(i,r),r.extensions&&ne(t,i,r);const n=r.nodes||[],a=[];for(let o=0,c=n.length;o<c;o++)a.push(s.getDependency("node",n[o]));return Promise.all(a).then(function(o){for(let d=0,l=o.length;d<l;d++)i.add(o[d]);const c=d=>{const l=new Map;for(const[u,f]of s.associations)(u instanceof Re||u instanceof Be)&&l.set(u,f);return d.traverse(u=>{const f=s.associations.get(u);f!=null&&l.set(u,f)}),l};return s.associations=c(i),i})}_createAnimationTracks(e,t,r,s,i){const n=[],a=e.name?e.name:e.uuid,o=[];ee[i.path]===ee.weights?e.traverse(function(u){u.morphTargetInfluences&&o.push(u.name?u.name:u.uuid)}):o.push(a);let c;switch(ee[i.path]){case ee.weights:c=Ue;break;case ee.rotation:c=Ke;break;case ee.translation:case ee.scale:c=je;break;default:switch(r.itemSize){case 1:c=Ue;break;case 2:case 3:default:c=je;break}break}const d=s.interpolation!==void 0?Us[s.interpolation]:dt,l=this._getArrayFromAccessor(r);for(let u=0,f=o.length;u<f;u++){const g=new c(o[u]+"."+ee[i.path],t.array,l,d);s.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(g),n.push(g)}return n}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=Pe(t.constructor),s=new Float32Array(t.length);for(let i=0,n=t.length;i<n;i++)s[i]=t[i]*r;t=s}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const s=this instanceof Ke?js:ht;return new s(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Qs(h,e,t){const r=e.attributes,s=new rs;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],o=a.min,c=a.max;if(o!==void 0&&c!==void 0){if(s.set(new oe(o[0],o[1],o[2]),new oe(c[0],c[1],c[2])),a.normalized){const d=Pe(ae[a.componentType]);s.min.multiplyScalar(d),s.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const i=e.targets;if(i!==void 0){const a=new oe,o=new oe;for(let c=0,d=i.length;c<d;c++){const l=i[c];if(l.POSITION!==void 0){const u=t.json.accessors[l.POSITION],f=u.min,g=u.max;if(f!==void 0&&g!==void 0){if(o.setX(Math.max(Math.abs(f[0]),Math.abs(g[0]))),o.setY(Math.max(Math.abs(f[1]),Math.abs(g[1]))),o.setZ(Math.max(Math.abs(f[2]),Math.abs(g[2]))),u.normalized){const _=Pe(ae[u.componentType]);o.multiplyScalar(_)}a.max(o)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(a)}h.boundingBox=s;const n=new os;s.getCenter(n.center),n.radius=s.min.distanceTo(s.max)/2,h.boundingSphere=n}function Ye(h,e,t){const r=e.attributes,s=[];function i(n,a){return t.getDependency("accessor",n).then(function(o){h.setAttribute(a,o)})}for(const n in r){const a=Ce[n]||n.toLowerCase();a in h.attributes||s.push(i(r[n],a))}if(e.indices!==void 0&&!h.index){const n=t.getDependency("accessor",e.indices).then(function(a){h.setIndex(a)});s.push(n)}return qe.workingColorSpace!==X&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${qe.workingColorSpace}" not supported.`),J(h,e),Qs(h,e,t),Promise.all(s).then(function(){return e.targets!==void 0?qs(h,e.targets,t):h})}class Zs extends as{constructor(e){super(e),this.type=pe}parse(e){const n=function(w,b){switch(w){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(b||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(b||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(b||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(b||""))}},d=`
`,l=function(w,b,I){b=b||1024;let F=w.pos,G=-1,M=0,B="",D=String.fromCharCode.apply(null,new Uint16Array(w.subarray(F,F+128)));for(;0>(G=D.indexOf(d))&&M<b&&F<w.byteLength;)B+=D,M+=D.length,F+=128,D+=String.fromCharCode.apply(null,new Uint16Array(w.subarray(F,F+128)));return-1<G?(w.pos+=M+G+1,B+D.slice(0,G)):!1},u=function(w){const b=/^#\?(\S+)/,I=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,N=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,F=/^\s*FORMAT=(\S+)\s*$/,G=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,M={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let B,D;for((w.pos>=w.byteLength||!(B=l(w)))&&n(1,"no header found"),(D=B.match(b))||n(3,"bad initial token"),M.valid|=1,M.programtype=D[1],M.string+=B+`
`;B=l(w),B!==!1;){if(M.string+=B+`
`,B.charAt(0)==="#"){M.comments+=B+`
`;continue}if((D=B.match(I))&&(M.gamma=parseFloat(D[1])),(D=B.match(N))&&(M.exposure=parseFloat(D[1])),(D=B.match(F))&&(M.valid|=2,M.format=D[1]),(D=B.match(G))&&(M.valid|=4,M.height=parseInt(D[1],10),M.width=parseInt(D[2],10)),M.valid&2&&M.valid&4)break}return M.valid&2||n(3,"missing format specifier"),M.valid&4||n(3,"missing image size specifier"),M},f=function(w,b,I){const N=b;if(N<8||N>32767||w[0]!==2||w[1]!==2||w[2]&128)return new Uint8Array(w);N!==(w[2]<<8|w[3])&&n(3,"wrong scanline width");const F=new Uint8Array(4*b*I);F.length||n(4,"unable to allocate buffer space");let G=0,M=0;const B=4*N,D=new Uint8Array(4),re=new Uint8Array(B);let ke=I;for(;ke>0&&M<w.byteLength;){M+4>w.byteLength&&n(1),D[0]=w[M++],D[1]=w[M++],D[2]=w[M++],D[3]=w[M++],(D[0]!=2||D[1]!=2||(D[2]<<8|D[3])!=N)&&n(3,"bad rgbe scanline format");let ce=0,Y;for(;ce<B&&M<w.byteLength;){Y=w[M++];const Q=Y>128;if(Q&&(Y-=128),(Y===0||ce+Y>B)&&n(3,"bad scanline data"),Q){const Z=w[M++];for(let Oe=0;Oe<Y;Oe++)re[ce++]=Z}else re.set(w.subarray(M,M+Y),ce),ce+=Y,M+=Y}const ft=N;for(let Q=0;Q<ft;Q++){let Z=0;F[G]=re[Q+Z],Z+=N,F[G+1]=re[Q+Z],Z+=N,F[G+2]=re[Q+Z],Z+=N,F[G+3]=re[Q+Z],G+=4}ke--}return F},g=function(w,b,I,N){const F=w[b+3],G=Math.pow(2,F-128)/255;I[N+0]=w[b+0]*G,I[N+1]=w[b+1]*G,I[N+2]=w[b+2]*G,I[N+3]=1},_=function(w,b,I,N){const F=w[b+3],G=Math.pow(2,F-128)/255;I[N+0]=me.toHalfFloat(Math.min(w[b+0]*G,65504)),I[N+1]=me.toHalfFloat(Math.min(w[b+1]*G,65504)),I[N+2]=me.toHalfFloat(Math.min(w[b+2]*G,65504)),I[N+3]=me.toHalfFloat(1)},m=new Uint8Array(e);m.pos=0;const p=u(m),T=p.width,R=p.height,E=f(m.subarray(m.pos),T,R);let C,O,L;switch(this.type){case xe:L=E.length/4;const w=new Float32Array(L*4);for(let I=0;I<L;I++)g(E,I*4,w,I*4);C=w,O=xe;break;case pe:L=E.length/4;const b=new Uint16Array(L*4);for(let I=0;I<L;I++)_(E,I*4,b,I*4);C=b,O=pe;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:T,height:R,data:C,header:p.string,gamma:p.gamma,exposure:p.exposure,type:O}}setDataType(e){return this.type=e,this}load(e,t,r,s){function i(n,a){switch(n.type){case xe:case pe:n.colorSpace=X,n.minFilter=fe,n.magFilter=fe,n.generateMipmaps=!1,n.flipY=!0;break}t&&t(n,a)}return super.load(e,i,r,s)}}var Js=k('<div class="scene-container svelte-1x9saw6"></div>');function $s(h,e){Ae(e,!1);let t=Ze(),r;const s=new ps;let i;const n=()=>{const c=U(t).offsetWidth/1920;i&&i.scale.setScalar(c*.5)};Qe(()=>{const o=new cs,c=new lt(50,window.innerWidth/window.innerHeight,.1,1e3);c.position.set(0,1,4);const d=new ls({antialias:!0,alpha:!0});d.setSize(window.innerWidth,window.innerHeight),d.setPixelRatio(window.devicePixelRatio),d.toneMapping=ds,d.toneMappingExposure=1.1,U(t).appendChild(d.domElement);const l=new us(d);l.compileEquirectangularShader(),new Zs().setPath("/Recursos/").load("studio.hdr",p=>{const T=l.fromEquirectangular(p).texture;o.environment=T,o.background=null,p.dispose(),l.dispose()});const u=new Ie(16777215,1);u.position.set(5,5,5),o.add(u);const f=new hs(16777215,.5);o.add(f);const g=new Ie(16777215,3);g.position.set(0,3,2),o.add(g),g.castShadow=!0,d.shadowMap.enabled=!0,new gs().load("/Recursos/Sphere comb low plly.glb",p=>{i=p.scene,n(),new ResizeObserver(()=>{i&&n()}).observe(U(t)),i.position.set(-.25,1,-.25),i.rotation.set(0,3,0);const R=new z({transmission:1.55,transparent:!0,opacity:1,roughness:0,metalness:0,thickness:2,ior:1.5,reflectivity:.9,side:ct,envMapIntensity:2.5,clearcoat:1,clearcoatRoughness:0,color:16777215,specularIntensity:1,depthWrite:!1});i.traverse(C=>{C.isMesh&&(C.material=R,C.renderOrder=2,C.material.needsUpdate=!0)}),p.animations&&p.animations.length&&(r=new fs(i),p.animations.forEach(C=>{r.clipAction(C).play()})),o.add(i);const E=document.querySelector(".background");E&&E.addEventListener("scroll",()=>{const O=3+E.scrollTop*.0025;i&&Se.to(i.rotation,{y:O,duration:.5,ease:"power2.out"})})},void 0,p=>{console.error("Error al cargar el modelo:",p)}),window.addEventListener("resize",()=>{c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight),n()});const m=()=>{requestAnimationFrame(m);const p=s.getDelta();r&&r.update(p),d.render(o,c)};m()}),ve();var a=Js();ms(a,o=>Je(t,o),()=>U(t)),P(h,a),Te()}var en=k('<img class="svelte-u55u9n">'),tn=k('<div class="proj-description svelte-u55u9n"><div class="description-image svelte-u55u9n"><img class="svelte-u55u9n"></div> <div class="description svelte-u55u9n"><div class="about-project svelte-u55u9n"><h2 class="description-title svelte-u55u9n"> <span class="svelte-u55u9n"> </span></h2> <div class="description-content svelte-u55u9n"><p class="svelte-u55u9n"><!> <br><br> <strong class="svelte-u55u9n">Purpose:</strong> <!></p></div> <div class="tools svelte-u55u9n"><h3 class="svelte-u55u9n"> </h3> <div class="tools-icons svelte-u55u9n"><p class="svelte-u55u9n"><strong>Tools Used:</strong></p> <!></div></div></div></div></div>');function sn(h,e){Ae(e,!1);let t=y(e,"imageSrc",8,""),r=y(e,"imageAlt",8,""),s=y(e,"title",8,"About the project"),i=y(e,"description",8,""),n=y(e,"purpose",8,""),a=y(e,"category",8,""),o=y(e,"tools",24,()=>[]);ve();var c=tn(),d=A(c),l=A(d);v(d);var u=x(d,2),f=A(u),g=A(f),_=A(g),m=x(_),p=A(m,!0);v(m),v(g);var T=x(g,2),R=A(T),E=A(R);H(E,i);var C=x(E,7);H(C,n),v(R),v(T);var O=x(T,2),L=A(O),w=A(L,!0);v(L);var b=x(L,2),I=x(A(b),2);te(I,1,o,se,(N,F)=>{var G=en();$(()=>{j(G,"src",U(F).src),j(G,"alt",U(F).alt)}),P(N,G)}),v(b),v(O),v(f),v(u),v(c),$((N,F)=>{j(l,"src",t()),j(l,"alt",r()),V(_,`${N??""} `),V(p,F),V(w,a())},[()=>s().split(" ")[0],()=>s().split(" ").slice(1).join(" ")],yt),P(h,c),Te()}var nn=k('<h3 class="subtitle svelte-15zkpbi"><!></h3>'),rn=k('<p class="svelte-15zkpbi"><!></p>'),on=k('<section class="seccion uno svelte-15zkpbi"><div class="contenido"><h2 class="svelte-15zkpbi"><!></h2> <!> <!></div> <div class="imagen svelte-15zkpbi"><img class="svelte-15zkpbi"></div></section>');function an(h,e){let t=y(e,"title",8,""),r=y(e,"subtitle",8,""),s=y(e,"paragraphs",24,()=>[]),i=y(e,"image",8,""),n=y(e,"alt",8,"Ilustracin");var a=on(),o=A(a),c=A(o),d=A(c);H(d,t),v(c);var l=x(c,2);{var u=m=>{var p=nn(),T=A(p);H(T,r),v(p),P(m,p)};W(l,m=>{r()&&m(u)})}var f=x(l,2);te(f,1,s,se,(m,p)=>{var T=rn(),R=A(T);H(R,()=>U(p)),v(T),P(m,T)}),v(o);var g=x(o,2),_=A(g);v(g),v(a),$(()=>{j(_,"src",i()),j(_,"alt",n())}),P(h,a)}var cn=k('<h3 class="subtitle svelte-g6zkoc"><!></h3>'),ln=k('<p class="svelte-g6zkoc"><!></p>'),dn=k('<section class="seccion dos svelte-g6zkoc"><div class="texto svelte-g6zkoc"><div class="cabecera svelte-g6zkoc"><h2 class="svelte-g6zkoc"><!></h2> <!></div> <!></div> <div class="imagen svelte-g6zkoc"><img class="svelte-g6zkoc"></div></section>');function un(h,e){let t=y(e,"title",8,""),r=y(e,"subtitle",8,""),s=y(e,"paragraphs",24,()=>[]),i=y(e,"image",8,""),n=y(e,"alt",8,"Ilustracin");var a=dn(),o=A(a),c=A(o),d=A(c),l=A(d);H(l,t),v(d);var u=x(d,2);{var f=p=>{var T=cn(),R=A(T);H(R,r),v(T),P(p,T)};W(u,p=>{r()&&p(f)})}v(c);var g=x(c,2);te(g,1,s,se,(p,T)=>{var R=ln(),E=A(R);H(E,()=>U(T)),v(R),P(p,R)}),v(o);var _=x(o,2),m=A(_);v(_),v(a),$(()=>{j(m,"src",i()),j(m,"alt",n())}),P(h,a)}var hn=k('<h3 class="subtitle svelte-1e0lwnv"><!></h3>'),fn=k('<p class="svelte-1e0lwnv"><!></p>'),pn=k('<section class="seccion tres svelte-1e0lwnv"><div class="titulo svelte-1e0lwnv"><h2 class="svelte-1e0lwnv"><!></h2> <!></div> <div class="doble-texto svelte-1e0lwnv"><div class="columna svelte-1e0lwnv"></div></div></section>');function mn(h,e){Ae(e,!1);let t=y(e,"title",8,""),r=y(e,"subtitle",8,""),s=y(e,"paragraphs",24,()=>[]);ve();var i=pn(),n=A(i),a=A(n),o=A(a);H(o,t),v(a);var c=x(a,2);{var d=f=>{var g=hn(),_=A(g);H(_,r),v(g),P(f,g)};W(c,f=>{r()&&f(d)})}v(n);var l=x(n,2),u=A(l);te(u,5,()=>s().slice(0,Math.ceil(s().length/2)),se,(f,g)=>{var _=fn(),m=A(_);H(m,()=>U(g)),v(_),P(f,_)}),v(u),v(l),v(i),P(h,i),Te()}var gn=k('<h3 class="subtitle svelte-fakjqh"><!></h3>'),vn=k('<p class="svelte-fakjqh"><!></p>'),An=k('<section class="seccion cuatro svelte-fakjqh"><div class="top svelte-fakjqh"><div class="titulo svelte-fakjqh"><h2 class="svelte-fakjqh"><!></h2> <!></div> <div class="imagen svelte-fakjqh"><img class="svelte-fakjqh"></div></div> <div class="columnas svelte-fakjqh"></div></section>');function Tn(h,e){let t=y(e,"title",8,""),r=y(e,"subtitle",8,""),s=y(e,"image",8,""),i=y(e,"alt",8,"Ilustracin"),n=y(e,"paragraphs",24,()=>[]);var a=An(),o=A(a),c=A(o),d=A(c),l=A(d);H(l,t),v(d);var u=x(d,2);{var f=p=>{var T=gn(),R=A(T);H(R,r),v(T),P(p,T)};W(u,p=>{r()&&p(f)})}v(c);var g=x(c,2),_=A(g);v(g),v(o);var m=x(o,2);te(m,5,n,se,(p,T)=>{var R=vn(),E=A(R);H(E,()=>U(T)),v(R),P(p,R)}),v(m),v(a),$(()=>{j(_,"src",s()),j(_,"alt",i())}),P(h,a)}var _n=k('<h3 class="subtitle svelte-1ivw1dg"><!></h3>'),wn=k('<p class="svelte-1ivw1dg"><!></p>'),Rn=k('<section class="seccion cinco svelte-1ivw1dg"><div class="imagen svelte-1ivw1dg"><img class="svelte-1ivw1dg"></div> <div class="texto svelte-1ivw1dg"><h2 class="svelte-1ivw1dg"><!></h2> <!> <!></div></section>');function En(h,e){let t=y(e,"title",8,""),r=y(e,"subtitle",8,""),s=y(e,"image",8,""),i=y(e,"alt",8,"Ilustracin"),n=y(e,"paragraphs",24,()=>[]);var a=Rn(),o=A(a),c=A(o);v(o);var d=x(o,2),l=A(d),u=A(l);H(u,t),v(l);var f=x(l,2);{var g=m=>{var p=_n(),T=A(p);H(T,r),v(p),P(m,p)};W(f,m=>{r()&&m(g)})}var _=x(f,2);te(_,1,n,se,(m,p)=>{var T=wn(),R=A(T);H(R,()=>U(p)),v(T),P(m,T)}),v(d),v(a),$(()=>{j(c,"src",s()),j(c,"alt",i())}),P(h,a)}var xn=k('<h3 class="subtitle svelte-6wshd8"><!></h3>'),yn=k('<p class="svelte-6wshd8"><!></p>'),bn=k('<section class="seccion seis svelte-6wshd8"><div class="cabecera svelte-6wshd8"><div class="title svelte-6wshd8"><h2 class="svelte-6wshd8"><!></h2> <!></div> <div class="imagen svelte-6wshd8"><img class="svelte-6wshd8"></div></div> <div class="contenido svelte-6wshd8"><div class="imagen svelte-6wshd8"><img class="svelte-6wshd8"></div> <div class="texto svelte-6wshd8"></div></div></section>');function Ln(h,e){let t=y(e,"title",8,""),r=y(e,"subtitle",8,""),s=y(e,"image",8,""),i=y(e,"image2",8,""),n=y(e,"alt",8,"Ilustracin"),a=y(e,"alt2",8,"Ilustracin"),o=y(e,"paragraphs",24,()=>[]);var c=bn(),d=A(c),l=A(d),u=A(l),f=A(u);H(f,t),v(u);var g=x(u,2);{var _=O=>{var L=xn(),w=A(L);H(w,r),v(L),P(O,L)};W(g,O=>{r()&&O(_)})}v(l);var m=x(l,2),p=A(m);v(m),v(d);var T=x(d,2),R=A(T),E=A(R);v(R);var C=x(R,2);te(C,5,o,se,(O,L)=>{var w=yn(),b=A(w);H(b,()=>U(L)),v(w),P(O,w)}),v(C),v(T),v(c),$(()=>{j(p,"src",s()),j(p,"alt",n()),j(E,"src",i()),j(E,"alt",a())}),P(h,c)}var Sn=k('<section class="Contact"><h3 class="pretitle svelte-1stqhpq">Did you <span class="svelte-1stqhpq">like it?</span></h3> <div class="contactLayer svelte-1stqhpq"><p class="description svelte-1stqhpq"> </p></div></section> <section class="next-project-section svelte-1stqhpq"><div class="text-content svelte-1stqhpq"><h3 class="pretitle svelte-1stqhpq">Next <span class="svelte-1stqhpq">project</span></h3> <hr> <h2 class="title svelte-1stqhpq"> </h2> <p class="description svelte-1stqhpq"> </p> <p class="extra svelte-1stqhpq"> </p> <span class="tag svelte-1stqhpq"> </span></div> <div class="image-wrapper svelte-1stqhpq"><img class="svelte-1stqhpq"></div></section>',1);function Mn(h,e){y(e,"pretitle",8,"Next project");let t=y(e,"title",8,"Kinetic rush"),r=y(e,"description",8,""),s=y(e,"extraInfo",8,""),i=y(e,"imageSrc",8,""),n=y(e,"imageAlt",8,"Project preview"),a=y(e,"tag",8,"Passion project");var o=Sn(),c=$e(o),d=x(A(c),2),l=A(d),u=A(l,!0);v(l),v(d),v(c);var f=x(c,2),g=A(f),_=x(A(g),4),m=A(_,!0);v(_);var p=x(_,2),T=A(p,!0);v(p);var R=x(p,2),E=A(R,!0);v(R);var C=x(R,2),O=A(C,!0);v(C),v(g);var L=x(g,2),w=A(L);v(L),v(f),$(()=>{V(u,r()),V(m,t()),V(T,r()),V(E,s()),V(O,a()),j(w,"src",i()),j(w,"alt",n())}),P(h,o)}var In=k('The content for panel 1. <ul class="svelte-21yp81"><li>Some</li> <li>List</li> <li>Items</li></ul>',1),Nn=k('The content for panel 3. <ul class="svelte-21yp81"><li>Some</li> <li>More</li> <li>List</li> <li>Items</li> <li>To</li> <li>Show</li> <li>Big</li> <li>Height</li></ul>',1),Cn=k("If you like this component, you can thank <strong>me</strong> who pushed me to make it. He was right, accordions are awesome! ",1),Pn=k('<div class="Accordion-content clip-reveal svelte-21yp81"><!></div>'),kn=k('<div class="panel svelte-21yp81"><div class="header svelte-21yp81"><h3 class="svelte-21yp81"> </h3> <span class="svelte-21yp81"> </span></div> <!></div>'),On=k('<section class="accordion-wrapper svelte-21yp81"></section>');function Fn(h){let e=Ze(null);function t(s){Je(e,U(e)===s?null:s)}var r=On();te(r,4,()=>[0,1,2,3],se,(s,i)=>{var n=kn(),a=A(n),o=A(a),c=A(o);v(o);var d=x(o,2),l=A(d,!0);v(d),v(a);var u=x(a,2);{var f=g=>{var _=Pn(),m=A(_);{var p=R=>{var E=In();_e(),P(R,E)},T=(R,E)=>{{var C=L=>{var w=gt("The content for panel 2.");P(L,w)},O=(L,w)=>{{var b=N=>{var F=Nn();_e(),P(N,F)},I=N=>{var F=Cn();_e(2),P(N,F)};W(L,N=>{i===2?N(b):N(I,!1)},w)}};W(R,L=>{i===1?L(C):L(O,!1)},E)}};W(m,R=>{i===0?R(p):R(T,!1)})}v(_),P(g,_)};W(u,g=>{U(e)===i&&g(f)})}v(n),$(()=>{V(c,`Panel ${i+1}`),V(l,U(e)===i?"":"+")}),mt("click",n,()=>t(i)),P(s,n)}),v(r),P(h,r)}var Dn=k('<div id="page-transition" class="transition-overlay"></div> <div class="white-overlay"></div> <div id="loading-screen"></div> <section class="hero control-content"><div class="hero-content"><div class="hero-text"><p class="main-subtitle">3d Motion Graphic</p> <h1 class="main-title">Pro Controller</h1></div> <div class="hero-image"><div class="video-wrapper"><iframe id="vimeoPlayer" src="https://player.vimeo.com/video/1041647005?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479&amp;autoplay=1&amp;loop=1&amp;muted=1&amp;controls=0" frameborder="0" allow="autoplay; picture-in-picture" allowfullscreen="" sandbox="allow-same-origin allow-scripts allow-pointer-lock allow-forms allow-popups"></iframe></div></div></div></section> <section class="content"><!> <div class="gallery"><div class="gallery-row 1"><div class="gallery-item"><iframe src="https://giphy.com/embed/5dYTGLaAGroGtDRI6U" width="480" height="269" frameBorder="0" class="giphy-embed" allowFullScreen=""></iframe></div> <div class="gallery-item"><iframe src="https://giphy.com/embed/dozK2FJXCKS9BYj3YU" width="480" height="269" frameBorder="0" class="giphy-embed" allowFullScreen=""></iframe></div></div> <!> <!> <!> <!> <!> <!> <!> <div class="scene-container"><!></div> <!></div></section>',1);function Xn(h,e){Ae(e,!1);const t=`
    This project is a tribute to <strong>The Legend of Zelda series</strong>, featuring a personalized custom skin for the Nintendo Switch Pro Controller. It showcases a fully 3D animated product presentation, created as a practice piece and an homage to the iconic game franchise. The animation highlights a unique Zelda-themed design, crafted to celebrate the artistic and legendary world of Hyrule.
  `,r=`
    This fan-made project is intended for skill development and portfolio showcasing, focusing on 3D product visualization and custom design. It is not affiliated with Nintendo or The Legend of Zelda.
  `,s=[{src:`${K}/Recursos/Projects/Control/Blender-Icon.svg`,alt:"Blender"},{src:`${K}/Recursos/Projects/Control/Illustrator-Icon.svg`,alt:"Illustrator"},{src:`${K}/Recursos/Projects/Control/AE-Icon.svg`,alt:"After Effects"},{src:`${K}/Recursos/Projects/Control/PR-Icon.svg`,alt:"Premiere Pro"}];Qe(()=>{const R=document.getElementById("loading-screen");R&&Se.to(R,{x:"-100%",duration:.5,ease:"ease-out",onComplete:()=>{R.style.display="none"}}),window.scrollTo(0,0),document.documentElement.scrollTop=0,Se.timeline().fromTo(".hero-image",{clipPath:"inset(100% 0 0 0)",opacity:0},{clipPath:"inset(0% 0 0 0)",opacity:1,duration:1.2,ease:"power4.out"}).fromTo(".main-title",{clipPath:"inset(0 100% 0 0)",opacity:0},{clipPath:"inset(0 0% 0 0)",opacity:1,duration:1,ease:"power4.out"},"=1.5").fromTo(".main-subtitle",{clipPath:"inset(100% 0 0 0)",opacity:0},{clipPath:"inset(0% 0 0 0)",opacity:1,duration:1,ease:"power4.out"},"-=0.5")}),ve();var i=Dn(),n=x($e(i),8),a=A(n);sn(a,{imageSrc:`${K??""}/Recursos/Projects/Control/Tribal zelda.png`,imageAlt:"Tribal Zelda Controller",title:"About the project",description:t,purpose:r,category:"3D Product Animation / Fan Art",tools:s});var o=x(a,2),c=x(A(o),2);an(c,{title:"01. <strong>Challenges</strong> & Learnings",subtitle:"What we learned",paragraphs:["We explored advanced rigging for animation. Lighting setups were crucial for product realism. We optimized render times without losing quality. Experimented with camera motion and timing Learned effective storytelling in 10 seconds. Polished composition and color grading.  <br><br>  We explored advanced rigging for animation. Lighting setups were crucial for product realism. We optimized render times without losing quality. Experimented with camera motion and timing Learned effective storytelling in 10 seconds. Polished composition and color grading."],image:`${K??""}/Recursos/Projects/Control/Tribal zelda.png`,Alt:"Process image"});var d=x(c,2);un(d,{title:"02. <strong>Challenges</strong> & Learnings",subtitle:"What we learned",paragraphs:["We explored advanced rigging for animation. Lighting setups were crucial for product realism. We optimized render times without losing quality. Experimented with camera motion and timing Learned effective storytelling in 10 seconds. Polished composition and color grading."],image:`${K??""}/Recursos/Projects/Control/Tribal zelda.png`,Alt:"Process image"});var l=x(d,2);mn(l,{title:"03. <strong>Challenges</strong> & Learnings",subtitle:"What we learned",paragraphs:["We explored advanced rigging for animation. Lighting setups were crucial for product realism. We optimized render times without losing quality. Experimented with camera motion and timing Learned effective storytelling in 10 seconds. Polished composition and color grading.  <br><br>  We explored advanced rigging for animation. Lighting setups were crucial for product realism. We optimized render times without losing quality. Experimented with camera motion and timing Learned effective storytelling in 10 seconds. Polished composition and color grading."]});var u=x(l,2);Tn(u,{title:"04. <strong>Challenges</strong> & Learnings",subtitle:"What we learned",paragraphs:["We explored advanced rigging for animation. Lighting setups were crucial for product realism. We optimized render times without losing quality. Experimented with camera motion and timing Learned effective storytelling in 10 seconds. Polished composition and color grading.","We explored advanced rigging for animation. Lighting setups were crucial for product realism. We optimized render times without losing quality. Experimented with camera motion and timing Learned effective storytelling in 10 seconds. Polished composition and color grading.","We explored advanced rigging for animation. Lighting setups were crucial for product realism. We optimized render times without losing quality. Experimented with camera motion and timing Learned effective storytelling in 10 seconds. Polished composition and color grading."],image:`${K??""}/Recursos/Projects/Control/Tribal zelda.png`,Alt:"Process image"});var f=x(u,2);En(f,{title:"05. <strong>Challenges</strong> & Learnings",subtitle:"What we learned",paragraphs:["We explored advanced rigging for animation. Lighting setups were crucial for product realism. We optimized render times without losing quality. Experimented with camera motion and timing Learned effective storytelling in 10 seconds. Polished composition and color grading.  <br><br>  We explored advanced rigging for animation. Lighting setups were crucial for product realism. We optimized render times without losing quality. Experimented with camera motion and timing Learned effective storytelling in 10 seconds. Polished composition and color grading.   <br><br>  We explored advanced rigging for animation. Lighting setups were crucial for product realism. We optimized render times without losing quality. Experimented with camera motion and timing Learned effective storytelling in 10 seconds. Polished composition and color grading."],image:`${K??""}/Recursos/Projects/Control/Tribal zelda.png`,Alt:"Process image"});var g=x(f,2);Ln(g,{title:"06. <strong>Challenges</strong> <span?& Learnings</span>",subtitle:"What we learned",paragraphs:["We explored advanced rigging for animation. Lighting setups were crucial for product realism. We optimized render times without losing quality. Experimented with camera motion and timing Learned effective storytelling in 10 seconds. Polished composition and color grading.  <br><br>  We explored advanced rigging for animation. Lighting setups were crucial for product realism. We optimized render times without losing quality. Experimented with camera motion and timing Learned effective storytelling in 10 seconds. Polished composition and color grading."],image:`${K??""}/Recursos/Projects/Control/Tribal zelda.png`,image2:`${K??""}/Recursos/Projects/Control/Tribal zelda.png`,Alt:"Process image",Alt2:"Process image"});var _=x(g,2);Fn(_);var m=x(_,2),p=A(m);$s(p,{}),v(m);var T=x(m,2);Mn(T,{title:"Kinetic rush",description:"This project was my submission for the Kinetic Rush challenge organized by Clint Jones. The challenge consisted of creating an animation featuring a character running towards or away from an objective. I decided to tell the story of an angel fleeing a chaotic heaven.",extraInfo:"The scene depicts a crumbling celestial realm, ravaged by conflict. In the background, an explosion marks the demise of a cherub, while our protagonist struggles to escape, only to be ultimately captured by its fate.",tag:"Passion project",imageSrc:`${K??""}/Recursos/Slider/3D/Kinetic rush-static.webp`,imageAlt:"Kinetic rush project preview"}),v(o),v(n),P(h,i),Te()}export{Xn as component};
