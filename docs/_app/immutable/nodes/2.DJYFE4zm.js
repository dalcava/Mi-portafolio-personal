import{t as x,c as C}from"../chunks/rDfp_SPL.js";import{i as U}from"../chunks/rhWWBjrQ.js";import{a0 as b,T as D,ab as P,ap as W,ak as k,am as u,an as f,ad as L,ao as g,aq as M}from"../chunks/LmLzMGCc.js";import{g as R}from"../chunks/C8heeFpn.js";import{g as w}from"../chunks/Brfk6Bdo.js";import{C as _,a as T}from"../chunks/CWgJz2bB.js";/* empty css                */import{S as q,O as z,P as E,T as I,R as X,a as Y,M as F,W as G,b as H}from"../chunks/BbOdQFzp.js";function S(a,s,i){b(()=>{var e=D(()=>s(a,i==null?void 0:i())||{});if(e!=null&&e.destroy)return()=>e.destroy()})}function v(a){let s,i,e,o,r,c=!1;function y(){const l=window.innerWidth,t=window.innerHeight;s=new q,i=new z(-1,1,1,-1,.1,10),i.position.z=1;const p=new E(2,2);r=new I().load("/Recursos/Displacement map.png"),r.wrapS=r.wrapT=X;const d=new Y({uniforms:{uDisp:{value:r},uStrength:{value:0},uTime:{value:0}},vertexShader:`
				varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = vec4(position, 1.0);
				}
			`,fragmentShader:`
				uniform sampler2D uDisp;
				uniform float uStrength;
				uniform float uTime;
				varying vec2 vUv;

				void main() {
					vec2 distortedUv = vUv + (texture2D(uDisp, vUv).rg - 0.5) * uStrength;
					vec4 color = vec4(1.0, 1.0, 1.0, 0.0);
					gl_FragColor = mix(color, vec4(1.0, 1.0, 1.0, 1.0), length(distortedUv - vUv));
				}
			`,transparent:!0});o=new F(p,d),s.add(o),e=new G({alpha:!0}),e.setSize(l,t),e.setPixelRatio(window.devicePixelRatio),a.appendChild(e.domElement),h()}function h(){requestAnimationFrame(h),o.material.uniforms.uTime.value+=.01,e.render(s,i)}function m(){if(c)return;const l=a.scrollTop,t=600,p=900,n=Math.min(Math.max((l-t)/(p-t),0),1);o.material.uniforms.uStrength.value=n;const d=document.querySelector(".hero");d&&(d.style.opacity=`${1-n}`),l>=p&&(c=!0,w.to(o.material.uniforms.uStrength,{value:1,duration:1.2,onUpdate:()=>d==null?void 0:d.classList.add("fade-out"),onComplete:()=>R("/Works")})),s.rotation.z=n*.3}return y(),a.addEventListener("scroll",m),{destroy(){a.removeEventListener("scroll",m),a.removeChild(e.domElement),e.dispose()}}}var O=x(`<div style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 9999;" class="svelte-i5400y"></div> <div id="loading-screen" class="svelte-i5400y"><div class="dot dot1 svelte-i5400y"></div> <div class="dot dot2 svelte-i5400y"></div> <div class="dot dot3 svelte-i5400y"></div> <div class="dot dot4 svelte-i5400y"></div></div> <div class="background svelte-i5400y"><div id="page-transition" class="transition-overlay svelte-i5400y"></div> <div class="hero svelte-i5400y"><div class="background-img svelte-i5400y"></div> <!> <div class="scene-wrap svelte-i5400y"><!></div> <div class="Complementary-text hidden svelte-i5400y"><h1 class="svelte-i5400y">Hi! <span class="svelte-i5400y">I'm David</span></h1> <div class="Compliment svelte-i5400y"><h2 class="svelte-i5400y">UX/UI designer and 3d artist</h2> <h3 class="svelte-i5400y">Welcome to my portfolio</h3></div></div> <div class="swiper-scrollbar svelte-i5400y"></div></div> <div class="contador-container svelte-i5400y"><!></div></div>`,1);function V(a,s){P(s,!1),W(()=>{const t=document.getElementById("loading-screen");w.timeline({onComplete:()=>{t.style.display="none"}}).to(t,{y:"100%",rotation:0,ease:"power4.in",duration:1.2}).to(t,{scaleX:1,scaleY:1.15,ease:"power2.out",duration:.2},"-=0.3").to(t,{scaleX:1,scaleY:1,rotation:0,ease:"elastic.out(1, 0.35)",duration:.5}).to(".background-img",{clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)",duration:1.75,ease:"power2.out"},"-=1.25"),w.to(".Complementary-text",{opacity:1,y:0,duration:1.2,delay:1.2,ease:"power3.out",onStart:()=>{var n;(n=document.querySelector(".Complementary-text"))==null||n.classList.remove("hidden")}})}),U();var i=O(),e=k(i);S(e,t=>v==null?void 0:v(t));var o=u(e,4),r=u(f(o),2),c=u(f(r),2);_(c,{});var y=u(c,2),h=f(y);H(h,{}),g(y),M(4),g(r);var m=u(r,2),l=f(m);T(l),g(m),g(o),S(o,t=>v==null?void 0:v(t)),C(a,i),L()}export{V as component};
