import{a0 as h,a1 as k,R as I,H,a4 as L,a5 as U,C as Y,B as S,a6 as p,O as v,a7 as A,a8 as q,D as y,E as B,a9 as C,aa as F,u as M,ab as w,S as P,ac as Z,ad as $,a2 as N,m as j,ae as z,e as G,af as J,b as K}from"./CmdkoSZY.js";function V(s,r,[f,a]=[0,0]){I&&f===0&&y();var e=s,i=null,u=null,t=q,_=f>0?k:0,l=!1;const D=(b,n=!0)=>{l=!0,o(n,b)},o=(b,n)=>{if(t===(t=b))return;let E=!1;if(I&&a!==-1){if(f===0){const T=e.data;T===H?a=0:T===L?a=1/0:(a=parseInt(T.substring(1)),a!==a&&(a=t?1/0:-1))}const O=a>f;!!t===O&&(e=U(),Y(e),S(!1),E=!0,a=-1)}t?(i?p(i):n&&(i=v(()=>n(e))),u&&A(u,()=>{u=null})):(u?p(u):n&&(u=v(()=>n(e,[f+1,a]))),i&&A(i,()=>{i=null})),E&&S(!0)};h(()=>{l=!1,r(D),l||o(null,null)},_),I&&(e=B)}function R(s,r){return s===r||(s==null?void 0:s[P])===r}function W(s={},r,f,a){return C(()=>{var e,i;return F(()=>{e=i,i=[],M(()=>{s!==f(...i)&&(r(s,...i),e&&R(f(...e),s)&&r(null,...e))})}),()=>{w(()=>{i&&R(f(...i),s)&&r(null,...i)})}}),s}let c=!1,g=Symbol();function X(s,r,f){const a=f[r]??(f[r]={store:null,source:j(void 0),unsubscribe:N});if(a.store!==s&&!(g in f))if(a.unsubscribe(),a.store=s??null,s==null)a.source.v=void 0,a.unsubscribe=N;else{var e=!0;a.unsubscribe=z(s,i=>{e?a.source.v=i:G(a.source,i)}),e=!1}return s&&g in f?J(s):K(a.source)}function d(){const s={};function r(){Z(()=>{for(var f in s)s[f].unsubscribe();$(s,g,{enumerable:!1,value:!0})})}return[s,r]}function m(s){var r=c;try{return c=!1,[s(),c]}finally{c=r}}export{X as a,W as b,m as c,V as i,d as s};
